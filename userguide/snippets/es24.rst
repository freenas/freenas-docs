#include snippets/copyright.rst

.. index:: ES24 Expansion Shelf

.. _ES24 Expansion Shelf:

ES24 Expansion Shelf
--------------------

The %brand% ES24 is a 4U, 24-bay, SAS3 (12 Gb/s) expansion shelf with
dual expansion modules and redundant power supplies.


#include snippets/perfect.rst


.. index:: ES24 Expansion Shelf Contents

Carefully unpack the shipping boxes and locate these components:

.. tabularcolumns:: |>{\RaggedRight}p{\dimexpr 0.5\linewidth-2\tabcolsep}
                    |>{\RaggedRight}p{\dimexpr 0.5\linewidth-2\tabcolsep}|

.. table::
   :class: longtable

   +-------------------------------------------------------+----------------------------------------------+
   | .. image:: images/truenas/es24_bare.png               | .. image:: images/truenas/es24_bezel.png     |
   |                                                       |    :width: 10%                               |
   |                                                       |                                              |
   | ES24 Expansion Shelf                                  | ES24 Bezel                                   |
   +-------------------------------------------------------+----------------------------------------------+
   | .. image:: images/truenas/es24_rails.png              | .. image:: images/truenas/es24_drivetray.png |
   |                                                       |    :width: 30%                               |
   |                                                       |                                              |
   | Set of rackmount rails                                | Up to 24 drive trays populated with drives   |
   +-------------------------------------------------------+----------------------------------------------+
   | |pic3|   |pic4|                                       | .. image:: images/truenas/power_cable.png    |
   |                                                       |    :width: 30%                               |
   | .. |pic3| image:: images/truenas/sascables_minihd.png |                                              |
   |    :width: 30%                                        | Two 2 IEC C13 to NEMA 5-15P power cords      |
   | .. |pic4| image:: images/truenas/es24_serialcable.png |                                              |
   |    :width: 30%                                        |                                              |
   |                                                       |                                              |
   | Two 3-meter Mini SAS HD to Mini SAS HD cables         |                                              |
   | and one serial cable                                  |                                              |
   +-------------------------------------------------------+----------------------------------------------+


.. index:: Become Familiar with the ES24
.. _Become Familiar with the ES24:

Become Familiar With the ES24
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The ES24 has front panel buttons for power and alarm mute, and
indicators for power, locate ID, and fault. The fault indicator is on
during the initial power-on self-test (POST) or when the %brand%
software has issued an
`alert
<https://support.ixsystems.com/truenasguide/tn_options.html#alert>`__.


.. _es24_indicators:
.. figure:: images/truenas/es24_indicators.png
   :width: 15%

.. _es24_back:

.. figure:: images/truenas/es24_back.png
   :width: 60%

   Back Panel


The ES24 contains two expansion modules in an over/under
configuration. The connectors and features on each module are:


.. tabularcolumns:: |>{\RaggedRight}p{\dimexpr 0.5\linewidth-2\tabcolsep}|

.. table::
   :class: longtable

   +------------------------------------------------------+
   | 1-2: Redundant power supplies                        |
   +------------------------------------------------------+
   | 3-4: Fans                                            |
   +------------------------------------------------------+
   | 5-7: HD Mini SAS3 connectors                         |
   +------------------------------------------------------+
   | 8: Serial port                                       |
   +------------------------------------------------------+


#include snippets/es24m_rails.rst

#include snippets/es24m_drivetrays.rst

.. raw:: latex

   \newpage


Connect Power Cords
~~~~~~~~~~~~~~~~~~~

**Do not plug the power cords into a power outlet yet.**
Connect a power cord to the back of one power supply. Place the cord
into the plastic clamp and press the tab into the latch to lock it in
place. Repeat the process for the second power supply and cord.

.. _power_cord_connection:
.. figure:: images/truenas/es24_power_cord.png
  :width: 35%


Connect SAS Cables
~~~~~~~~~~~~~~~~~~

Plug the ES24 power cords into power outlets.
**Wait two minutes for the drives to start.**


.. note:: The %brand% Unified Array can remain on while the expansion
   shelf is connected.


Connect an SAS cable from ES24 expansion module 1 SAS 0 connector to
the farthest left Z-Series storage controller 1 SAS connector (cable #1
in photo).

If the Z-Series has a second storage controller for HA (High
Availability), connect a second SAS cable from ES24 expansion module 2
SAS 0 connector to the farthest left Z-Series storage controller 2 SAS
connector (cable #2 in photo).


.. _es24_sasconnect1:
.. figure:: images/truenas/es24_sasconnect1.png
   :width: 50%

   SAS Cable Connection for One ES24


.. raw:: latex

   \newpage


A second ES24 can also be connected to the Z-Series. Connect the first
ES24 as shown above. Then connect the second ES24 SAS 0 ports to the
next unused SAS ports on the Z-Series as shown:


.. _es24_sasconnect2:
.. figure:: images/truenas/es24_sasconnect2.png
   :width: 50%

   SAS Cable Connection for Two ES24s


After all SAS cables have been connected, plug the Z-Series power
cords into power outlets.


Install Bezel (Optional)
~~~~~~~~~~~~~~~~~~~~~~~~

The included bezel is not required for operation. If desired, install
the bezel by aligning it with the pins on the bezel ears and pressing
it into place.

.. raw:: latex

   \newpage
